"use strict";
import { migrateConfigurationFile } from "./configuration";
import { DEFAULT_HELP, DEFAULT_VERSION } from "./defaults";
import { FIND_COMMAND, HELP_COMMAND, VERSION_COMMAND, INITIALISE_COMMAND, ADD_ROOT_DIRECTORY_PATH_COMMAND, LIST_ROOT_DIRECTORY_PATHS_COMMAND, REMOVE_ROOT_DIRECTORY_PATH_COMMAND } from "./commands";
export default function prepare(command, argument, options, main) {
    var _options_help = options.help, help = _options_help === void 0 ? DEFAULT_HELP : _options_help, _options_version = options.version, version = _options_version === void 0 ? DEFAULT_VERSION : _options_version;
    if (false) {
    ///
    } else if (help) {
        command = HELP_COMMAND;
    } else if (version) {
        command = VERSION_COMMAND;
    }
    if (command === HELP_COMMAND || command === VERSION_COMMAND || command === INITIALISE_COMMAND) {
        main(command, argument, options);
        return;
    }
    migrateConfigurationFile();
    if (command === ADD_ROOT_DIRECTORY_PATH_COMMAND || command === LIST_ROOT_DIRECTORY_PATHS_COMMAND || command === REMOVE_ROOT_DIRECTORY_PATH_COMMAND) {
        main(command, argument, options);
        return;
    }
    argument = command; ///
    command = FIND_COMMAND;
    main(command, argument, options);
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9wcmVwYXJlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgeyBtaWdyYXRlQ29uZmlndXJhdGlvbkZpbGUgfSBmcm9tIFwiLi9jb25maWd1cmF0aW9uXCI7XG5pbXBvcnQgeyBERUZBVUxUX0hFTFAsIERFRkFVTFRfVkVSU0lPTiB9IGZyb20gXCIuL2RlZmF1bHRzXCI7XG5pbXBvcnQgeyBGSU5EX0NPTU1BTkQsXG4gICAgICAgICBIRUxQX0NPTU1BTkQsXG4gICAgICAgICBWRVJTSU9OX0NPTU1BTkQsXG4gICAgICAgICBJTklUSUFMSVNFX0NPTU1BTkQsXG4gICAgICAgICBBRERfUk9PVF9ESVJFQ1RPUllfUEFUSF9DT01NQU5ELFxuICAgICAgICAgTElTVF9ST09UX0RJUkVDVE9SWV9QQVRIU19DT01NQU5ELFxuICAgICAgICAgUkVNT1ZFX1JPT1RfRElSRUNUT1JZX1BBVEhfQ09NTUFORCB9IGZyb20gXCIuL2NvbW1hbmRzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHByZXBhcmUoY29tbWFuZCwgYXJndW1lbnQsIG9wdGlvbnMsIG1haW4pIHtcbiAgY29uc3QgeyBoZWxwID0gREVGQVVMVF9IRUxQLCB2ZXJzaW9uID0gREVGQVVMVF9WRVJTSU9OIH0gPSBvcHRpb25zO1xuXG4gIGlmIChmYWxzZSkge1xuICAgIC8vL1xuICB9IGVsc2UgaWYgKGhlbHApIHtcbiAgICBjb21tYW5kID0gSEVMUF9DT01NQU5EO1xuICB9IGVsc2UgaWYgKHZlcnNpb24pIHtcbiAgICBjb21tYW5kID0gVkVSU0lPTl9DT01NQU5EO1xuICB9XG5cbiAgaWYgKChjb21tYW5kID09PSBIRUxQX0NPTU1BTkQpIHx8XG4gICAgICAoY29tbWFuZCA9PT0gVkVSU0lPTl9DT01NQU5EKSB8fFxuICAgICAgKGNvbW1hbmQgPT09IElOSVRJQUxJU0VfQ09NTUFORCkpIHtcblxuICAgIG1haW4oY29tbWFuZCwgYXJndW1lbnQsIG9wdGlvbnMpO1xuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbWlncmF0ZUNvbmZpZ3VyYXRpb25GaWxlKCk7XG5cbiAgaWYgKChjb21tYW5kID09PSBBRERfUk9PVF9ESVJFQ1RPUllfUEFUSF9DT01NQU5EKSB8fFxuICAgICAgKGNvbW1hbmQgPT09IExJU1RfUk9PVF9ESVJFQ1RPUllfUEFUSFNfQ09NTUFORCkgfHxcbiAgICAgIChjb21tYW5kID09PSBSRU1PVkVfUk9PVF9ESVJFQ1RPUllfUEFUSF9DT01NQU5EKSkge1xuXG4gICAgbWFpbihjb21tYW5kLCBhcmd1bWVudCwgb3B0aW9ucyk7XG5cbiAgICByZXR1cm47XG4gIH1cblxuICBhcmd1bWVudCA9IGNvbW1hbmQ7IC8vL1xuXG4gIGNvbW1hbmQgPSBGSU5EX0NPTU1BTkQ7XG5cbiAgbWFpbihjb21tYW5kLCBhcmd1bWVudCwgb3B0aW9ucyk7XG59XG4iXSwibmFtZXMiOlsibWlncmF0ZUNvbmZpZ3VyYXRpb25GaWxlIiwiREVGQVVMVF9IRUxQIiwiREVGQVVMVF9WRVJTSU9OIiwiRklORF9DT01NQU5EIiwiSEVMUF9DT01NQU5EIiwiVkVSU0lPTl9DT01NQU5EIiwiSU5JVElBTElTRV9DT01NQU5EIiwiQUREX1JPT1RfRElSRUNUT1JZX1BBVEhfQ09NTUFORCIsIkxJU1RfUk9PVF9ESVJFQ1RPUllfUEFUSFNfQ09NTUFORCIsIlJFTU9WRV9ST09UX0RJUkVDVE9SWV9QQVRIX0NPTU1BTkQiLCJwcmVwYXJlIiwiY29tbWFuZCIsImFyZ3VtZW50Iiwib3B0aW9ucyIsIm1haW4iLCJoZWxwIiwidmVyc2lvbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFFQSxTQUFTQSx3QkFBd0IsUUFBUSxrQkFBa0I7QUFDM0QsU0FBU0MsWUFBWSxFQUFFQyxlQUFlLFFBQVEsYUFBYTtBQUMzRCxTQUFTQyxZQUFZLEVBQ1pDLFlBQVksRUFDWkMsZUFBZSxFQUNmQyxrQkFBa0IsRUFDbEJDLCtCQUErQixFQUMvQkMsaUNBQWlDLEVBQ2pDQyxrQ0FBa0MsUUFBUSxhQUFhO0FBRWhFLGVBQWUsU0FBU0MsUUFBUUMsT0FBTyxFQUFFQyxRQUFRLEVBQUVDLE9BQU8sRUFBRUMsSUFBSTtJQUM5RCxvQkFBMkRELFFBQW5ERSxNQUFBQSxrQ0FBT2QsaURBQTRDWSxRQUE5QkcsU0FBQUEsd0NBQVVkO0lBRXZDLElBQUksT0FBTztJQUNULEdBQUc7SUFDTCxPQUFPLElBQUlhLE1BQU07UUFDZkosVUFBVVA7SUFDWixPQUFPLElBQUlZLFNBQVM7UUFDbEJMLFVBQVVOO0lBQ1o7SUFFQSxJQUFJLEFBQUNNLFlBQVlQLGdCQUNaTyxZQUFZTixtQkFDWk0sWUFBWUwsb0JBQXFCO1FBRXBDUSxLQUFLSCxTQUFTQyxVQUFVQztRQUV4QjtJQUNGO0lBRUFiO0lBRUEsSUFBSSxBQUFDVyxZQUFZSixtQ0FDWkksWUFBWUgscUNBQ1pHLFlBQVlGLG9DQUFxQztRQUVwREssS0FBS0gsU0FBU0MsVUFBVUM7UUFFeEI7SUFDRjtJQUVBRCxXQUFXRCxTQUFTLEdBQUc7SUFFdkJBLFVBQVVSO0lBRVZXLEtBQUtILFNBQVNDLFVBQVVDO0FBQzFCIn0=