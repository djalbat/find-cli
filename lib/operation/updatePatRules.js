"use strict";
import { updateIgnoredFilePathRules, updatePermittedFilePathRules, updateIgnoredDirectoryPathRules, updatePermittedDirectoryPathRules } from "../configuration";
export default function updatePathRulesOperation(proceed, abort, context) {
    var pathRule = context.pathRule, directory = context.directory, pathIgnored = context.pathIgnored;
    pathIgnored ? addIgnoreRule(pathRule, directory, context) : addPermitRule(pathRule, directory, context);
    proceed();
}
function addIgnoreRule(pathRule, directory, context) {
    if (directory) {
        var ignoredDirectoryPathRules = context.ignoredDirectoryPathRules, ignoredDirectoryPathRule = pathRule; ///
        ignoredDirectoryPathRules.push(ignoredDirectoryPathRule);
        updateIgnoredDirectoryPathRules(ignoredDirectoryPathRules);
    } else {
        var ignoredFilePathRules = context.ignoredFilePathRules, ignoredFilePathRule = pathRule; ///
        ignoredFilePathRules.push(ignoredFilePathRule);
        updateIgnoredFilePathRules(ignoredFilePathRules);
    }
}
function addPermitRule(pathRule, directory, context) {
    if (directory) {
        var permittedDirectoryPathRules = context.permittedDirectoryPathRules, permittedDirectoryPathRule = pathRule; ///
        permittedDirectoryPathRules.push(permittedDirectoryPathRule);
        updatePermittedDirectoryPathRules(permittedDirectoryPathRules);
    } else {
        var permittedFilePathRules = context.permittedFilePathRules, permittedFilePathRule = pathRule; ///
        permittedFilePathRules.push(permittedFilePathRule);
        updatePermittedFilePathRules(permittedFilePathRules);
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9vcGVyYXRpb24vdXBkYXRlUGF0UnVsZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB7IHVwZGF0ZUlnbm9yZWRGaWxlUGF0aFJ1bGVzLFxuICAgICAgICB1cGRhdGVQZXJtaXR0ZWRGaWxlUGF0aFJ1bGVzLFxuICAgICAgICB1cGRhdGVJZ25vcmVkRGlyZWN0b3J5UGF0aFJ1bGVzLFxuICAgICAgICB1cGRhdGVQZXJtaXR0ZWREaXJlY3RvcnlQYXRoUnVsZXMgfSBmcm9tIFwiLi4vY29uZmlndXJhdGlvblwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1cGRhdGVQYXRoUnVsZXNPcGVyYXRpb24ocHJvY2VlZCwgYWJvcnQsIGNvbnRleHQpIHtcbiAgY29uc3QgeyBwYXRoUnVsZSwgZGlyZWN0b3J5LCBwYXRoSWdub3JlZCB9ID0gY29udGV4dDtcblxuICBwYXRoSWdub3JlZCA/XG4gICAgYWRkSWdub3JlUnVsZShwYXRoUnVsZSwgZGlyZWN0b3J5LCBjb250ZXh0KSA6XG4gICAgICBhZGRQZXJtaXRSdWxlKHBhdGhSdWxlLCBkaXJlY3RvcnksIGNvbnRleHQpO1xuXG4gIHByb2NlZWQoKTtcbn1cblxuZnVuY3Rpb24gYWRkSWdub3JlUnVsZShwYXRoUnVsZSwgZGlyZWN0b3J5LCBjb250ZXh0KSB7XG4gIGlmIChkaXJlY3RvcnkpIHtcbiAgICBjb25zdCB7IGlnbm9yZWREaXJlY3RvcnlQYXRoUnVsZXMgfSA9IGNvbnRleHQsXG4gICAgICAgICAgaWdub3JlZERpcmVjdG9yeVBhdGhSdWxlID0gcGF0aFJ1bGU7ICAvLy9cblxuICAgIGlnbm9yZWREaXJlY3RvcnlQYXRoUnVsZXMucHVzaChpZ25vcmVkRGlyZWN0b3J5UGF0aFJ1bGUpO1xuXG4gICAgdXBkYXRlSWdub3JlZERpcmVjdG9yeVBhdGhSdWxlcyhpZ25vcmVkRGlyZWN0b3J5UGF0aFJ1bGVzKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB7IGlnbm9yZWRGaWxlUGF0aFJ1bGVzIH0gPSBjb250ZXh0LFxuICAgICAgICAgIGlnbm9yZWRGaWxlUGF0aFJ1bGUgPSBwYXRoUnVsZTsgIC8vL1xuXG4gICAgaWdub3JlZEZpbGVQYXRoUnVsZXMucHVzaChpZ25vcmVkRmlsZVBhdGhSdWxlKTtcblxuICAgIHVwZGF0ZUlnbm9yZWRGaWxlUGF0aFJ1bGVzKGlnbm9yZWRGaWxlUGF0aFJ1bGVzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhZGRQZXJtaXRSdWxlKHBhdGhSdWxlLCBkaXJlY3RvcnksIGNvbnRleHQpIHtcbiAgaWYgKGRpcmVjdG9yeSkge1xuICAgIGNvbnN0IHsgcGVybWl0dGVkRGlyZWN0b3J5UGF0aFJ1bGVzIH0gPSBjb250ZXh0LFxuICAgICAgICAgIHBlcm1pdHRlZERpcmVjdG9yeVBhdGhSdWxlID0gcGF0aFJ1bGU7ICAvLy9cblxuICAgIHBlcm1pdHRlZERpcmVjdG9yeVBhdGhSdWxlcy5wdXNoKHBlcm1pdHRlZERpcmVjdG9yeVBhdGhSdWxlKTtcblxuICAgIHVwZGF0ZVBlcm1pdHRlZERpcmVjdG9yeVBhdGhSdWxlcyhwZXJtaXR0ZWREaXJlY3RvcnlQYXRoUnVsZXMpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHsgcGVybWl0dGVkRmlsZVBhdGhSdWxlcyB9ID0gY29udGV4dCxcbiAgICAgICAgICBwZXJtaXR0ZWRGaWxlUGF0aFJ1bGUgPSBwYXRoUnVsZTsgIC8vL1xuXG4gICAgcGVybWl0dGVkRmlsZVBhdGhSdWxlcy5wdXNoKHBlcm1pdHRlZEZpbGVQYXRoUnVsZSk7XG5cbiAgICB1cGRhdGVQZXJtaXR0ZWRGaWxlUGF0aFJ1bGVzKHBlcm1pdHRlZEZpbGVQYXRoUnVsZXMpO1xuICB9XG59XG4iXSwibmFtZXMiOlsidXBkYXRlSWdub3JlZEZpbGVQYXRoUnVsZXMiLCJ1cGRhdGVQZXJtaXR0ZWRGaWxlUGF0aFJ1bGVzIiwidXBkYXRlSWdub3JlZERpcmVjdG9yeVBhdGhSdWxlcyIsInVwZGF0ZVBlcm1pdHRlZERpcmVjdG9yeVBhdGhSdWxlcyIsInVwZGF0ZVBhdGhSdWxlc09wZXJhdGlvbiIsInByb2NlZWQiLCJhYm9ydCIsImNvbnRleHQiLCJwYXRoUnVsZSIsImRpcmVjdG9yeSIsInBhdGhJZ25vcmVkIiwiYWRkSWdub3JlUnVsZSIsImFkZFBlcm1pdFJ1bGUiLCJpZ25vcmVkRGlyZWN0b3J5UGF0aFJ1bGVzIiwiaWdub3JlZERpcmVjdG9yeVBhdGhSdWxlIiwicHVzaCIsImlnbm9yZWRGaWxlUGF0aFJ1bGVzIiwiaWdub3JlZEZpbGVQYXRoUnVsZSIsInBlcm1pdHRlZERpcmVjdG9yeVBhdGhSdWxlcyIsInBlcm1pdHRlZERpcmVjdG9yeVBhdGhSdWxlIiwicGVybWl0dGVkRmlsZVBhdGhSdWxlcyIsInBlcm1pdHRlZEZpbGVQYXRoUnVsZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFFQSxTQUFTQSwwQkFBMEIsRUFDM0JDLDRCQUE0QixFQUM1QkMsK0JBQStCLEVBQy9CQyxpQ0FBaUMsUUFBUSxtQkFBbUI7QUFFcEUsZUFBZSxTQUFTQyx5QkFBeUJDLE9BQU8sRUFBRUMsS0FBSyxFQUFFQyxPQUFPO0lBQ3RFLElBQVFDLFdBQXFDRCxRQUFyQ0MsVUFBVUMsWUFBMkJGLFFBQTNCRSxXQUFXQyxjQUFnQkgsUUFBaEJHO0lBRTdCQSxjQUNFQyxjQUFjSCxVQUFVQyxXQUFXRixXQUNqQ0ssY0FBY0osVUFBVUMsV0FBV0Y7SUFFdkNGO0FBQ0Y7QUFFQSxTQUFTTSxjQUFjSCxRQUFRLEVBQUVDLFNBQVMsRUFBRUYsT0FBTztJQUNqRCxJQUFJRSxXQUFXO1FBQ2IsSUFBTSxBQUFFSSw0QkFBOEJOLFFBQTlCTSwyQkFDRkMsMkJBQTJCTixVQUFXLEdBQUc7UUFFL0NLLDBCQUEwQkUsSUFBSSxDQUFDRDtRQUUvQlosZ0NBQWdDVztJQUNsQyxPQUFPO1FBQ0wsSUFBTSxBQUFFRyx1QkFBeUJULFFBQXpCUyxzQkFDRkMsc0JBQXNCVCxVQUFXLEdBQUc7UUFFMUNRLHFCQUFxQkQsSUFBSSxDQUFDRTtRQUUxQmpCLDJCQUEyQmdCO0lBQzdCO0FBQ0Y7QUFFQSxTQUFTSixjQUFjSixRQUFRLEVBQUVDLFNBQVMsRUFBRUYsT0FBTztJQUNqRCxJQUFJRSxXQUFXO1FBQ2IsSUFBTSxBQUFFUyw4QkFBZ0NYLFFBQWhDVyw2QkFDRkMsNkJBQTZCWCxVQUFXLEdBQUc7UUFFakRVLDRCQUE0QkgsSUFBSSxDQUFDSTtRQUVqQ2hCLGtDQUFrQ2U7SUFDcEMsT0FBTztRQUNMLElBQU0sQUFBRUUseUJBQTJCYixRQUEzQmEsd0JBQ0ZDLHdCQUF3QmIsVUFBVyxHQUFHO1FBRTVDWSx1QkFBdUJMLElBQUksQ0FBQ007UUFFNUJwQiw2QkFBNkJtQjtJQUMvQjtBQUNGIn0=