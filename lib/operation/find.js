"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return findOperation;
    }
});
const _find = /*#__PURE__*/ _interop_require_default(require("../utilities/find"));
const _configuration = require("../configuration");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function findOperation(proceed, abort, context) {
    const rootDirectoryPaths = (0, _configuration.retrieveRootDirectoryPaths)(), ignoredFilePathRules = (0, _configuration.retrieveIgnoredFilePathRules)(), permittedFilePathRules = (0, _configuration.retrievePermittedFilePathRules)(), ignoredDirectoryPathRules = (0, _configuration.retrieveIgnoredDirectoryPathRules)(), permittedDirectoryPathRules = (0, _configuration.retrievePermittedDirectoryPathRules)();
    Object.assign(context, {
        rootDirectoryPaths,
        ignoredFilePathRules,
        permittedFilePathRules,
        ignoredDirectoryPathRules,
        permittedDirectoryPathRules
    });
    const entryPaths = [
        ...rootDirectoryPaths
    ], synchronous = (0, _find.default)(entryPaths, (pathIgnored)=>{
        delete context.rootDirectoryPaths;
        delete context.ignoredFilePathRules;
        delete context.permittedFilePathRules;
        delete context.ignoredDirectoryPathRules;
        delete context.permittedDirectoryPathRules;
        if (pathIgnored === null) {
            abort();
            return;
        }
        proceed();
    }, context);
    if (synchronous) {
        delete context.rootDirectoryPaths;
        delete context.ignoredFilePathRules;
        delete context.permittedFilePathRules;
        delete context.ignoredDirectoryPathRules;
        delete context.permittedDirectoryPathRules;
        proceed();
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9vcGVyYXRpb24vZmluZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IGZpbmRJbkVudHJpZXMgZnJvbSBcIi4uL3V0aWxpdGllcy9maW5kXCI7XG5cbmltcG9ydCB7IHJldHJpZXZlUm9vdERpcmVjdG9yeVBhdGhzLFxuICAgICAgICAgcmV0cmlldmVJZ25vcmVkRmlsZVBhdGhSdWxlcyxcbiAgICAgICAgIHJldHJpZXZlUGVybWl0dGVkRmlsZVBhdGhSdWxlcyxcbiAgICAgICAgIHJldHJpZXZlSWdub3JlZERpcmVjdG9yeVBhdGhSdWxlcyxcbiAgICAgICAgIHJldHJpZXZlUGVybWl0dGVkRGlyZWN0b3J5UGF0aFJ1bGVzIH0gZnJvbSBcIi4uL2NvbmZpZ3VyYXRpb25cIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZmluZE9wZXJhdGlvbihwcm9jZWVkLCBhYm9ydCwgY29udGV4dCkge1xuICBjb25zdCByb290RGlyZWN0b3J5UGF0aHMgPSByZXRyaWV2ZVJvb3REaXJlY3RvcnlQYXRocygpLFxuICAgICAgICBpZ25vcmVkRmlsZVBhdGhSdWxlcyA9IHJldHJpZXZlSWdub3JlZEZpbGVQYXRoUnVsZXMoKSxcbiAgICAgICAgcGVybWl0dGVkRmlsZVBhdGhSdWxlcyA9IHJldHJpZXZlUGVybWl0dGVkRmlsZVBhdGhSdWxlcygpLFxuICAgICAgICBpZ25vcmVkRGlyZWN0b3J5UGF0aFJ1bGVzID0gcmV0cmlldmVJZ25vcmVkRGlyZWN0b3J5UGF0aFJ1bGVzKCksXG4gICAgICAgIHBlcm1pdHRlZERpcmVjdG9yeVBhdGhSdWxlcyA9IHJldHJpZXZlUGVybWl0dGVkRGlyZWN0b3J5UGF0aFJ1bGVzKCk7XG5cbiAgT2JqZWN0LmFzc2lnbihjb250ZXh0LCB7XG4gICAgcm9vdERpcmVjdG9yeVBhdGhzLFxuICAgIGlnbm9yZWRGaWxlUGF0aFJ1bGVzLFxuICAgIHBlcm1pdHRlZEZpbGVQYXRoUnVsZXMsXG4gICAgaWdub3JlZERpcmVjdG9yeVBhdGhSdWxlcyxcbiAgICBwZXJtaXR0ZWREaXJlY3RvcnlQYXRoUnVsZXNcbiAgfSk7XG5cbiAgY29uc3QgZW50cnlQYXRocyA9IFsgIC8vL1xuICAgICAgICAgIC4uLnJvb3REaXJlY3RvcnlQYXRoc1xuICAgICAgICBdLFxuICAgICAgICBzeW5jaHJvbm91cyA9IGZpbmRJbkVudHJpZXMoZW50cnlQYXRocywgKHBhdGhJZ25vcmVkKSA9PiB7XG4gICAgICAgICAgZGVsZXRlIGNvbnRleHQucm9vdERpcmVjdG9yeVBhdGhzO1xuICAgICAgICAgIGRlbGV0ZSBjb250ZXh0Lmlnbm9yZWRGaWxlUGF0aFJ1bGVzO1xuICAgICAgICAgIGRlbGV0ZSBjb250ZXh0LnBlcm1pdHRlZEZpbGVQYXRoUnVsZXM7XG4gICAgICAgICAgZGVsZXRlIGNvbnRleHQuaWdub3JlZERpcmVjdG9yeVBhdGhSdWxlcztcbiAgICAgICAgICBkZWxldGUgY29udGV4dC5wZXJtaXR0ZWREaXJlY3RvcnlQYXRoUnVsZXM7XG5cbiAgICAgICAgICBpZiAocGF0aElnbm9yZWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGFib3J0KCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwcm9jZWVkKCk7XG4gICAgICAgIH0sIGNvbnRleHQpO1xuXG4gIGlmIChzeW5jaHJvbm91cykge1xuICAgIGRlbGV0ZSBjb250ZXh0LnJvb3REaXJlY3RvcnlQYXRocztcbiAgICBkZWxldGUgY29udGV4dC5pZ25vcmVkRmlsZVBhdGhSdWxlcztcbiAgICBkZWxldGUgY29udGV4dC5wZXJtaXR0ZWRGaWxlUGF0aFJ1bGVzO1xuICAgIGRlbGV0ZSBjb250ZXh0Lmlnbm9yZWREaXJlY3RvcnlQYXRoUnVsZXM7XG4gICAgZGVsZXRlIGNvbnRleHQucGVybWl0dGVkRGlyZWN0b3J5UGF0aFJ1bGVzO1xuXG4gICAgcHJvY2VlZCgpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiZmluZE9wZXJhdGlvbiIsInByb2NlZWQiLCJhYm9ydCIsImNvbnRleHQiLCJyb290RGlyZWN0b3J5UGF0aHMiLCJyZXRyaWV2ZVJvb3REaXJlY3RvcnlQYXRocyIsImlnbm9yZWRGaWxlUGF0aFJ1bGVzIiwicmV0cmlldmVJZ25vcmVkRmlsZVBhdGhSdWxlcyIsInBlcm1pdHRlZEZpbGVQYXRoUnVsZXMiLCJyZXRyaWV2ZVBlcm1pdHRlZEZpbGVQYXRoUnVsZXMiLCJpZ25vcmVkRGlyZWN0b3J5UGF0aFJ1bGVzIiwicmV0cmlldmVJZ25vcmVkRGlyZWN0b3J5UGF0aFJ1bGVzIiwicGVybWl0dGVkRGlyZWN0b3J5UGF0aFJ1bGVzIiwicmV0cmlldmVQZXJtaXR0ZWREaXJlY3RvcnlQYXRoUnVsZXMiLCJPYmplY3QiLCJhc3NpZ24iLCJlbnRyeVBhdGhzIiwic3luY2hyb25vdXMiLCJmaW5kSW5FbnRyaWVzIiwicGF0aElnbm9yZWQiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQVVBOzs7ZUFBd0JBOzs7NkRBUkU7K0JBTTBCOzs7Ozs7QUFFckMsU0FBU0EsY0FBY0MsT0FBTyxFQUFFQyxLQUFLLEVBQUVDLE9BQU87SUFDM0QsTUFBTUMscUJBQXFCQyxJQUFBQSx5Q0FBMEIsS0FDL0NDLHVCQUF1QkMsSUFBQUEsMkNBQTRCLEtBQ25EQyx5QkFBeUJDLElBQUFBLDZDQUE4QixLQUN2REMsNEJBQTRCQyxJQUFBQSxnREFBaUMsS0FDN0RDLDhCQUE4QkMsSUFBQUEsa0RBQW1DO0lBRXZFQyxPQUFPQyxNQUFNLENBQUNaLFNBQVM7UUFDckJDO1FBQ0FFO1FBQ0FFO1FBQ0FFO1FBQ0FFO0lBQ0Y7SUFFQSxNQUFNSSxhQUFhO1dBQ1JaO0tBQ0osRUFDRGEsY0FBY0MsSUFBQUEsYUFBYSxFQUFDRixZQUFZLENBQUNHO1FBQ3ZDLE9BQU9oQixRQUFRQyxrQkFBa0I7UUFDakMsT0FBT0QsUUFBUUcsb0JBQW9CO1FBQ25DLE9BQU9ILFFBQVFLLHNCQUFzQjtRQUNyQyxPQUFPTCxRQUFRTyx5QkFBeUI7UUFDeEMsT0FBT1AsUUFBUVMsMkJBQTJCO1FBRTFDLElBQUlPLGdCQUFnQixNQUFNO1lBQ3hCakI7WUFFQTtRQUNGO1FBRUFEO0lBQ0YsR0FBR0U7SUFFVCxJQUFJYyxhQUFhO1FBQ2YsT0FBT2QsUUFBUUMsa0JBQWtCO1FBQ2pDLE9BQU9ELFFBQVFHLG9CQUFvQjtRQUNuQyxPQUFPSCxRQUFRSyxzQkFBc0I7UUFDckMsT0FBT0wsUUFBUU8seUJBQXlCO1FBQ3hDLE9BQU9QLFFBQVFTLDJCQUEyQjtRQUUxQ1g7SUFDRjtBQUNGIn0=