"use strict";
import { shellUtilities } from "necessary";
import { isAnswerIgnore } from "../../utilities/prompt";
import { FILE, DIRECTORY } from "../../constants";
import { validateIgnoreOrPermit } from "../../utilities/validate";
import { INVALID_IGNORE_OR_PERMIT_MESSAGE } from "../../messages";
var prompt = shellUtilities.prompt;
export default function ignoreOrPermitPathPromptOperation(proceed, abort, context) {
    var path = context.path, directory = context.directory, fileOrDirectory = directory ? DIRECTORY : FILE, description = "Ignore or permit the '".concat(path, "' ").concat(fileOrDirectory, "? (i)gnore (p)ermit: "), errorMessage = INVALID_IGNORE_OR_PERMIT_MESSAGE, validationFunction = validateIgnoreOrPermit, options = {
        description: description,
        errorMessage: errorMessage,
        validationFunction: validationFunction
    };
    prompt(options, function(answer) {
        var valid = answer !== null;
        if (!valid) {
            abort();
            return;
        }
        var ignore = isAnswerIgnore(answer), pathIgnored = ignore; ///
        Object.assign(context, {
            pathIgnored: pathIgnored
        });
        proceed();
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9vcGVyYXRpb24vcHJvbXB0L2lnbm9yZU9yUGVybWl0UGF0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHsgc2hlbGxVdGlsaXRpZXMgfSBmcm9tIFwibmVjZXNzYXJ5XCI7XG5cbmltcG9ydCB7IGlzQW5zd2VySWdub3JlIH0gZnJvbSBcIi4uLy4uL3V0aWxpdGllcy9wcm9tcHRcIjtcbmltcG9ydCB7IEZJTEUsIERJUkVDVE9SWSB9IGZyb20gXCIuLi8uLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IHZhbGlkYXRlSWdub3JlT3JQZXJtaXQgfSBmcm9tIFwiLi4vLi4vdXRpbGl0aWVzL3ZhbGlkYXRlXCI7XG5pbXBvcnQgeyBJTlZBTElEX0lHTk9SRV9PUl9QRVJNSVRfTUVTU0FHRSB9IGZyb20gXCIuLi8uLi9tZXNzYWdlc1wiO1xuXG5jb25zdCB7IHByb21wdCB9ID0gc2hlbGxVdGlsaXRpZXM7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlnbm9yZU9yUGVybWl0UGF0aFByb21wdE9wZXJhdGlvbihwcm9jZWVkLCBhYm9ydCwgY29udGV4dCkge1xuICBjb25zdCB7IHBhdGgsIGRpcmVjdG9yeSB9ID0gY29udGV4dCxcbiAgICAgICAgZmlsZU9yRGlyZWN0b3J5ID0gZGlyZWN0b3J5ID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBESVJFQ1RPUlkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRSxcbiAgICAgICAgZGVzY3JpcHRpb24gPSBgSWdub3JlIG9yIHBlcm1pdCB0aGUgJyR7cGF0aH0nICR7ZmlsZU9yRGlyZWN0b3J5fT8gKGkpZ25vcmUgKHApZXJtaXQ6IGAsXG4gICAgICAgIGVycm9yTWVzc2FnZSA9IElOVkFMSURfSUdOT1JFX09SX1BFUk1JVF9NRVNTQUdFLFxuICAgICAgICB2YWxpZGF0aW9uRnVuY3Rpb24gPSB2YWxpZGF0ZUlnbm9yZU9yUGVybWl0LCAgLy8vXG4gICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgICAgZXJyb3JNZXNzYWdlLFxuICAgICAgICAgIHZhbGlkYXRpb25GdW5jdGlvblxuICAgICAgICB9O1xuXG4gIHByb21wdChvcHRpb25zLCAoYW5zd2VyKSA9PiB7XG4gICAgY29uc3QgdmFsaWQgPSAoYW5zd2VyICE9PSBudWxsKTtcblxuICAgIGlmKCF2YWxpZCkge1xuICAgICAgYWJvcnQoKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGlnbm9yZSA9IGlzQW5zd2VySWdub3JlKGFuc3dlciksXG4gICAgICAgICAgcGF0aElnbm9yZWQgPSBpZ25vcmU7IC8vL1xuXG4gICAgT2JqZWN0LmFzc2lnbihjb250ZXh0LCB7XG4gICAgICBwYXRoSWdub3JlZFxuICAgIH0pO1xuXG4gICAgcHJvY2VlZCgpO1xuICB9KTtcbn1cbiJdLCJuYW1lcyI6WyJzaGVsbFV0aWxpdGllcyIsImlzQW5zd2VySWdub3JlIiwiRklMRSIsIkRJUkVDVE9SWSIsInZhbGlkYXRlSWdub3JlT3JQZXJtaXQiLCJJTlZBTElEX0lHTk9SRV9PUl9QRVJNSVRfTUVTU0FHRSIsInByb21wdCIsImlnbm9yZU9yUGVybWl0UGF0aFByb21wdE9wZXJhdGlvbiIsInByb2NlZWQiLCJhYm9ydCIsImNvbnRleHQiLCJwYXRoIiwiZGlyZWN0b3J5IiwiZmlsZU9yRGlyZWN0b3J5IiwiZGVzY3JpcHRpb24iLCJlcnJvck1lc3NhZ2UiLCJ2YWxpZGF0aW9uRnVuY3Rpb24iLCJvcHRpb25zIiwiYW5zd2VyIiwidmFsaWQiLCJpZ25vcmUiLCJwYXRoSWdub3JlZCIsIk9iamVjdCIsImFzc2lnbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFFQSxTQUFTQSxjQUFjLFFBQVEsWUFBWTtBQUUzQyxTQUFTQyxjQUFjLFFBQVEseUJBQXlCO0FBQ3hELFNBQVNDLElBQUksRUFBRUMsU0FBUyxRQUFRLGtCQUFrQjtBQUNsRCxTQUFTQyxzQkFBc0IsUUFBUSwyQkFBMkI7QUFDbEUsU0FBU0MsZ0NBQWdDLFFBQVEsaUJBQWlCO0FBRWxFLElBQU0sQUFBRUMsU0FBV04sZUFBWE07QUFFUixlQUFlLFNBQVNDLGtDQUFrQ0MsT0FBTyxFQUFFQyxLQUFLLEVBQUVDLE9BQU87SUFDL0UsSUFBUUMsT0FBb0JELFFBQXBCQyxNQUFNQyxZQUFjRixRQUFkRSxXQUNSQyxrQkFBa0JELFlBQ0VULFlBQ0VELE1BQ3RCWSxjQUFjLEFBQUMseUJBQWlDRCxPQUFURixNQUFLLE1BQW9CLE9BQWhCRSxpQkFBZ0IsMEJBQ2hFRSxlQUFlVixrQ0FDZlcscUJBQXFCWix3QkFDckJhLFVBQVU7UUFDUkgsYUFBQUE7UUFDQUMsY0FBQUE7UUFDQUMsb0JBQUFBO0lBQ0Y7SUFFTlYsT0FBT1csU0FBUyxTQUFDQztRQUNmLElBQU1DLFFBQVNELFdBQVc7UUFFMUIsSUFBRyxDQUFDQyxPQUFPO1lBQ1RWO1lBRUE7UUFDRjtRQUVBLElBQU1XLFNBQVNuQixlQUFlaUIsU0FDeEJHLGNBQWNELFFBQVEsR0FBRztRQUUvQkUsT0FBT0MsTUFBTSxDQUFDYixTQUFTO1lBQ3JCVyxhQUFBQTtRQUNGO1FBRUFiO0lBQ0Y7QUFDRiJ9