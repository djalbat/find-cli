"use strict";
import { shellUtilities } from "necessary";
import { validateRootDirectoryPath } from "../../utilities/validate";
import { INVALID_ROOT_DIRECTORY_PATH_MESSAGE } from "../../messages";
import { ADD_ROOT_DIRECTORY_PATH_DESCRIPTION } from "../../descriptions";
var prompt = shellUtilities.prompt;
export default function addRootDirectoryPathPromptOperation(proceed, abort, context) {
    var rootDirectoryPath = context.rootDirectoryPath;
    if (rootDirectoryPath !== null) {
        proceed();
        return;
    }
    var description = ADD_ROOT_DIRECTORY_PATH_DESCRIPTION, errorMessage = INVALID_ROOT_DIRECTORY_PATH_MESSAGE, validationFunction = validateRootDirectoryPath, options = {
        description: description,
        errorMessage: errorMessage,
        validationFunction: validationFunction
    };
    prompt(options, function(answer) {
        var valid = answer !== null;
        if (!valid) {
            abort();
            return;
        }
        var rootDirectoryPath = answer; ///
        Object.assign(context, {
            rootDirectoryPath: rootDirectoryPath
        });
        proceed();
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9vcGVyYXRpb24vcHJvbXB0L2FkZFJvb3REaXJlY3RvcnlQYXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgeyBzaGVsbFV0aWxpdGllcyB9IGZyb20gXCJuZWNlc3NhcnlcIjtcblxuaW1wb3J0IHsgdmFsaWRhdGVSb290RGlyZWN0b3J5UGF0aCB9IGZyb20gXCIuLi8uLi91dGlsaXRpZXMvdmFsaWRhdGVcIjtcbmltcG9ydCB7IElOVkFMSURfUk9PVF9ESVJFQ1RPUllfUEFUSF9NRVNTQUdFIH0gZnJvbSBcIi4uLy4uL21lc3NhZ2VzXCI7XG5pbXBvcnQgeyBBRERfUk9PVF9ESVJFQ1RPUllfUEFUSF9ERVNDUklQVElPTiB9IGZyb20gXCIuLi8uLi9kZXNjcmlwdGlvbnNcIjtcblxuY29uc3QgeyBwcm9tcHQgfSA9IHNoZWxsVXRpbGl0aWVzO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRSb290RGlyZWN0b3J5UGF0aFByb21wdE9wZXJhdGlvbihwcm9jZWVkLCBhYm9ydCwgY29udGV4dCkge1xuICBjb25zdCB7IHJvb3REaXJlY3RvcnlQYXRoIH0gPSBjb250ZXh0O1xuXG4gIGlmIChyb290RGlyZWN0b3J5UGF0aCAhPT0gbnVsbCkge1xuICAgIHByb2NlZWQoKTtcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGRlc2NyaXB0aW9uID0gQUREX1JPT1RfRElSRUNUT1JZX1BBVEhfREVTQ1JJUFRJT04sXG4gICAgICAgIGVycm9yTWVzc2FnZSA9IElOVkFMSURfUk9PVF9ESVJFQ1RPUllfUEFUSF9NRVNTQUdFLFxuICAgICAgICB2YWxpZGF0aW9uRnVuY3Rpb24gPSB2YWxpZGF0ZVJvb3REaXJlY3RvcnlQYXRoLCAvLy9cbiAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICBlcnJvck1lc3NhZ2UsXG4gICAgICAgICAgdmFsaWRhdGlvbkZ1bmN0aW9uXG4gICAgICAgIH07XG5cbiAgcHJvbXB0KG9wdGlvbnMsIChhbnN3ZXIpID0+IHtcbiAgICBjb25zdCB2YWxpZCA9IChhbnN3ZXIgIT09IG51bGwpO1xuXG4gICAgaWYoIXZhbGlkKSB7XG4gICAgICBhYm9ydCgpO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgcm9vdERpcmVjdG9yeVBhdGggPSBhbnN3ZXI7IC8vL1xuXG4gICAgT2JqZWN0LmFzc2lnbihjb250ZXh0LCB7XG4gICAgICByb290RGlyZWN0b3J5UGF0aFxuICAgIH0pO1xuXG4gICAgcHJvY2VlZCgpO1xuICB9KTtcbn1cbiJdLCJuYW1lcyI6WyJzaGVsbFV0aWxpdGllcyIsInZhbGlkYXRlUm9vdERpcmVjdG9yeVBhdGgiLCJJTlZBTElEX1JPT1RfRElSRUNUT1JZX1BBVEhfTUVTU0FHRSIsIkFERF9ST09UX0RJUkVDVE9SWV9QQVRIX0RFU0NSSVBUSU9OIiwicHJvbXB0IiwiYWRkUm9vdERpcmVjdG9yeVBhdGhQcm9tcHRPcGVyYXRpb24iLCJwcm9jZWVkIiwiYWJvcnQiLCJjb250ZXh0Iiwicm9vdERpcmVjdG9yeVBhdGgiLCJkZXNjcmlwdGlvbiIsImVycm9yTWVzc2FnZSIsInZhbGlkYXRpb25GdW5jdGlvbiIsIm9wdGlvbnMiLCJhbnN3ZXIiLCJ2YWxpZCIsIk9iamVjdCIsImFzc2lnbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFFQSxTQUFTQSxjQUFjLFFBQVEsWUFBWTtBQUUzQyxTQUFTQyx5QkFBeUIsUUFBUSwyQkFBMkI7QUFDckUsU0FBU0MsbUNBQW1DLFFBQVEsaUJBQWlCO0FBQ3JFLFNBQVNDLG1DQUFtQyxRQUFRLHFCQUFxQjtBQUV6RSxJQUFNLEFBQUVDLFNBQVdKLGVBQVhJO0FBRVIsZUFBZSxTQUFTQyxvQ0FBb0NDLE9BQU8sRUFBRUMsS0FBSyxFQUFFQyxPQUFPO0lBQ2pGLElBQU0sQUFBRUMsb0JBQXNCRCxRQUF0QkM7SUFFUixJQUFJQSxzQkFBc0IsTUFBTTtRQUM5Qkg7UUFFQTtJQUNGO0lBRUEsSUFBTUksY0FBY1AscUNBQ2RRLGVBQWVULHFDQUNmVSxxQkFBcUJYLDJCQUNyQlksVUFBVTtRQUNSSCxhQUFBQTtRQUNBQyxjQUFBQTtRQUNBQyxvQkFBQUE7SUFDRjtJQUVOUixPQUFPUyxTQUFTLFNBQUNDO1FBQ2YsSUFBTUMsUUFBU0QsV0FBVztRQUUxQixJQUFHLENBQUNDLE9BQU87WUFDVFI7WUFFQTtRQUNGO1FBRUEsSUFBTUUsb0JBQW9CSyxRQUFRLEdBQUc7UUFFckNFLE9BQU9DLE1BQU0sQ0FBQ1QsU0FBUztZQUNyQkMsbUJBQUFBO1FBQ0Y7UUFFQUg7SUFDRjtBQUNGIn0=